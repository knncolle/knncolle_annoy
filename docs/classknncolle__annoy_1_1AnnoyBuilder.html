<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>knncolle_annoy: knncolle_annoy::AnnoyBuilder&lt; Index_, Data_, Distance_, AnnoyDistance_, AnnoyIndex_, AnnoyData_, AnnoyRng_, AnnoyThreadPolicy_, Matrix_ &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">knncolle_annoy
   </div>
   <div id="projectbrief">Annoy nearest neighbors in knncolle</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceknncolle__annoy.html">knncolle_annoy</a></li><li class="navelem"><a class="el" href="classknncolle__annoy_1_1AnnoyBuilder.html">AnnoyBuilder</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classknncolle__annoy_1_1AnnoyBuilder-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">knncolle_annoy::AnnoyBuilder&lt; Index_, Data_, Distance_, AnnoyDistance_, AnnoyIndex_, AnnoyData_, AnnoyRng_, AnnoyThreadPolicy_, Matrix_ &gt; Class Template Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Perform an approximate nearest neighbor search with Annoy.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="knncolle__annoy_8hpp_source.html">knncolle_annoy.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for knncolle_annoy::AnnoyBuilder&lt; Index_, Data_, Distance_, AnnoyDistance_, AnnoyIndex_, AnnoyData_, AnnoyRng_, AnnoyThreadPolicy_, Matrix_ &gt;:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classknncolle__annoy_1_1AnnoyBuilder.png" usemap="#knncolle_5Fannoy::AnnoyBuilder_3C_20Index_5F_2C_20Data_5F_2C_20Distance_5F_2C_20AnnoyDistance_5F_2C_20AnnoyIndex_5F_2C_20AnnoyData_5F_2C_20AnnoyRng_5F_2C_20AnnoyThreadPolicy_5F_2C_20Matrix_5F_20_3E_map" alt=""/>
  <map id="knncolle_5Fannoy::AnnoyBuilder_3C_20Index_5F_2C_20Data_5F_2C_20Distance_5F_2C_20AnnoyDistance_5F_2C_20AnnoyIndex_5F_2C_20AnnoyData_5F_2C_20AnnoyRng_5F_2C_20AnnoyThreadPolicy_5F_2C_20Matrix_5F_20_3E_map" name="knncolle_5Fannoy::AnnoyBuilder_3C_20Index_5F_2C_20Data_5F_2C_20Distance_5F_2C_20AnnoyDistance_5F_2C_20AnnoyIndex_5F_2C_20AnnoyData_5F_2C_20AnnoyRng_5F_2C_20AnnoyThreadPolicy_5F_2C_20Matrix_5F_20_3E_map">
<area target="_parent" href="https://knncolle.github.io/knncolle/classknncolle_1_1Builder.html" alt="knncolle::Builder&lt; typename Index_, typename Data_, typename Distance_, class Matrix_ &gt;" shape="rect" coords="0,0,870,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a3af65d7b88c5b9801d06c5fc2ceb8a75" id="r_a3af65d7b88c5b9801d06c5fc2ceb8a75"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3af65d7b88c5b9801d06c5fc2ceb8a75">AnnoyBuilder</a> (<a class="el" href="structknncolle__annoy_1_1AnnoyOptions.html">AnnoyOptions</a> options)</td></tr>
<tr class="separator:a3af65d7b88c5b9801d06c5fc2ceb8a75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e5b30a68c3c208104b769b02cb446c7" id="r_a7e5b30a68c3c208104b769b02cb446c7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7e5b30a68c3c208104b769b02cb446c7">AnnoyBuilder</a> ()=default</td></tr>
<tr class="separator:a7e5b30a68c3c208104b769b02cb446c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45abac40b562d4aa23e89b0eae298dd0" id="r_a45abac40b562d4aa23e89b0eae298dd0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structknncolle__annoy_1_1AnnoyOptions.html">AnnoyOptions</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a45abac40b562d4aa23e89b0eae298dd0">get_options</a> ()</td></tr>
<tr class="separator:a45abac40b562d4aa23e89b0eae298dd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60c62ec5f4fdf5252169de7400b97871" id="r_a60c62ec5f4fdf5252169de7400b97871"><td class="memItemLeft" align="right" valign="top"><a class="elRef" href="https://knncolle.github.io/knncolle/classknncolle_1_1Prebuilt.html">knncolle::Prebuilt</a>&lt; Index_, Data_, Distance_ &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a60c62ec5f4fdf5252169de7400b97871">build_raw</a> (const Matrix_ &amp;data) const</td></tr>
<tr class="separator:a60c62ec5f4fdf5252169de7400b97871"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classknncolle_1_1Builder"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pub_methods_classknncolle_1_1Builder')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el"  href="https://knncolle.github.io/knncolle/classknncolle_1_1Builder.html">knncolle::Builder&lt; typename Index_, typename Data_, typename Distance_, class Matrix_ &gt;</a></td></tr>
<tr class="memitem:a9a7a0cb39688bedba6ab406e59da6c90 inherit pub_methods_classknncolle_1_1Builder" id="r_a9a7a0cb39688bedba6ab406e59da6c90"><td class="memItemLeft" align="right" valign="top">
std::shared_ptr&lt; <a class="elRef" href="https://knncolle.github.io/knncolle/classknncolle_1_1Prebuilt.html">Prebuilt</a>&lt; Index_, Data_, Distance_ &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="elRef" href="https://knncolle.github.io/knncolle/classknncolle_1_1Builder.html#a9a7a0cb39688bedba6ab406e59da6c90">build_shared</a> (const Matrix_ &amp;data) const</td></tr>
<tr class="separator:a9a7a0cb39688bedba6ab406e59da6c90 inherit pub_methods_classknncolle_1_1Builder"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93cac638de3e4ad31919bc5d677d16b7 inherit pub_methods_classknncolle_1_1Builder" id="r_a93cac638de3e4ad31919bc5d677d16b7"><td class="memItemLeft" align="right" valign="top">
std::unique_ptr&lt; <a class="elRef" href="https://knncolle.github.io/knncolle/classknncolle_1_1Prebuilt.html">Prebuilt</a>&lt; Index_, Data_, Distance_ &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="elRef" href="https://knncolle.github.io/knncolle/classknncolle_1_1Builder.html#a93cac638de3e4ad31919bc5d677d16b7">build_unique</a> (const Matrix_ &amp;data) const</td></tr>
<tr class="separator:a93cac638de3e4ad31919bc5d677d16b7 inherit pub_methods_classknncolle_1_1Builder"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><div class="compoundTemplParams">template&lt;typename Index_, typename Data_, typename Distance_, class AnnoyDistance_, typename AnnoyIndex_ = Index_, typename AnnoyData_ = float, class AnnoyRng_ = Annoy::Kiss64Random, class AnnoyThreadPolicy_ = Annoy::AnnoyIndexSingleThreadedBuildPolicy, class Matrix_ = knncolle::Matrix&lt;Index_, Data_&gt;&gt;<br />
class knncolle_annoy::AnnoyBuilder&lt; Index_, Data_, Distance_, AnnoyDistance_, AnnoyIndex_, AnnoyData_, AnnoyRng_, AnnoyThreadPolicy_, Matrix_ &gt;</div><p>Perform an approximate nearest neighbor search with Annoy. </p>
<p>In the Approximate Nearest Neighbors Oh Yeah (Annoy) algorithm, a tree is constructed where a random hyperplane splits the points into two subsets at each internal node. Leaf nodes are defined when the number of points in a subset falls below a threshold (close to twice the number of dimensions for the settings used here). Multiple trees are constructed in this manner, each of which is different due to the random choice of hyperplanes. For a given query point, each tree is searched to identify the subset of all points in the same leaf node as the query point. The union of these subsets across all trees is exhaustively searched to identify the actual nearest neighbors to the query.</p>
<dl class="section see"><dt>See also</dt><dd>Bernhardsson E (2018). Annoy. <a href="https://github.com/spotify/annoy">https://github.com/spotify/annoy</a></dd></dl>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">Index_</td><td>Integer type for the observation indices. </td></tr>
    <tr><td class="paramname">Data_</td><td>Numeric type for the input and query data. </td></tr>
    <tr><td class="paramname">Distance_</td><td>Floating-point type for the distances. </td></tr>
    <tr><td class="paramname">AnnoyDistance_</td><td>An <b>Annoy</b>-compatible class to compute the distance between vectors, e.g., <code>Annoy::Euclidean</code>, <code>Annoy::Manhattan</code>. Note that this is not the same as <code><a class="elRef" href="https://knncolle.github.io/knncolle/classknncolle_1_1DistanceMetric.html">knncolle::DistanceMetric</a></code>. </td></tr>
    <tr><td class="paramname">AnnoyIndex_</td><td>Integer type for the observation indices in the Annoy index. </td></tr>
    <tr><td class="paramname">AnnoyData_</td><td>Floating-point type for data in the Annoy index. This defaults to a <code>float</code> instead of a <code>double</code> to sacrifice some accuracy for performance. </td></tr>
    <tr><td class="paramname">AnnoyRng_</td><td>An <b>Annoy</b> class for random number generation. </td></tr>
    <tr><td class="paramname">AnnoyThreadPolicy_</td><td>An <b>Annoy</b> class for the threadedness of Annoy index building. </td></tr>
    <tr><td class="paramname">Matrix_</td><td>Class of the input data matrix. This should satisfy the <code><a class="elRef" href="https://knncolle.github.io/knncolle/classknncolle_1_1Matrix.html">knncolle::Matrix</a></code> interface. </td></tr>
  </table>
  </dd>
</dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a3af65d7b88c5b9801d06c5fc2ceb8a75" name="a3af65d7b88c5b9801d06c5fc2ceb8a75"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3af65d7b88c5b9801d06c5fc2ceb8a75">&#9670;&#160;</a></span>AnnoyBuilder() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Index_ , typename Data_ , typename Distance_ , class AnnoyDistance_ , typename AnnoyIndex_  = Index_, typename AnnoyData_  = float, class AnnoyRng_  = Annoy::Kiss64Random, class AnnoyThreadPolicy_  = Annoy::AnnoyIndexSingleThreadedBuildPolicy, class Matrix_  = knncolle::Matrix&lt;Index_, Data_&gt;&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classknncolle__annoy_1_1AnnoyBuilder.html">knncolle_annoy::AnnoyBuilder</a>&lt; Index_, Data_, Distance_, AnnoyDistance_, AnnoyIndex_, AnnoyData_, AnnoyRng_, AnnoyThreadPolicy_, Matrix_ &gt;::AnnoyBuilder </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structknncolle__annoy_1_1AnnoyOptions.html">AnnoyOptions</a></td>          <td class="paramname"><span class="paramname"><em>options</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">options</td><td>Further options for Annoy index construction and searching. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7e5b30a68c3c208104b769b02cb446c7" name="a7e5b30a68c3c208104b769b02cb446c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e5b30a68c3c208104b769b02cb446c7">&#9670;&#160;</a></span>AnnoyBuilder() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Index_ , typename Data_ , typename Distance_ , class AnnoyDistance_ , typename AnnoyIndex_  = Index_, typename AnnoyData_  = float, class AnnoyRng_  = Annoy::Kiss64Random, class AnnoyThreadPolicy_  = Annoy::AnnoyIndexSingleThreadedBuildPolicy, class Matrix_  = knncolle::Matrix&lt;Index_, Data_&gt;&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classknncolle__annoy_1_1AnnoyBuilder.html">knncolle_annoy::AnnoyBuilder</a>&lt; Index_, Data_, Distance_, AnnoyDistance_, AnnoyIndex_, AnnoyData_, AnnoyRng_, AnnoyThreadPolicy_, Matrix_ &gt;::AnnoyBuilder </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Default constructor. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a60c62ec5f4fdf5252169de7400b97871" name="a60c62ec5f4fdf5252169de7400b97871"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a60c62ec5f4fdf5252169de7400b97871">&#9670;&#160;</a></span>build_raw()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Index_ , typename Data_ , typename Distance_ , class AnnoyDistance_ , typename AnnoyIndex_  = Index_, typename AnnoyData_  = float, class AnnoyRng_  = Annoy::Kiss64Random, class AnnoyThreadPolicy_  = Annoy::AnnoyIndexSingleThreadedBuildPolicy, class Matrix_  = knncolle::Matrix&lt;Index_, Data_&gt;&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" href="https://knncolle.github.io/knncolle/classknncolle_1_1Prebuilt.html">knncolle::Prebuilt</a>&lt; Index_, Data_, Distance_ &gt; * <a class="el" href="classknncolle__annoy_1_1AnnoyBuilder.html">knncolle_annoy::AnnoyBuilder</a>&lt; Index_, Data_, Distance_, AnnoyDistance_, AnnoyIndex_, AnnoyData_, AnnoyRng_, AnnoyThreadPolicy_, Matrix_ &gt;::build_raw </td>
          <td>(</td>
          <td class="paramtype">const Matrix_ &amp;</td>          <td class="paramname"><span class="paramname"><em>data</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Creates a <code><a class="el" href="classknncolle__annoy_1_1AnnoyPrebuilt.html" title="Prebuilt index for an Annoy search.">AnnoyPrebuilt</a></code> instance. </p>

<p>Implements <a class="elRef" href="https://knncolle.github.io/knncolle/classknncolle_1_1Builder.html#acd18a78af362f948ede3ddd8d5f6e88c">knncolle::Builder&lt; typename Index_, typename Data_, typename Distance_, class Matrix_ &gt;</a>.</p>

</div>
</div>
<a id="a45abac40b562d4aa23e89b0eae298dd0" name="a45abac40b562d4aa23e89b0eae298dd0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45abac40b562d4aa23e89b0eae298dd0">&#9670;&#160;</a></span>get_options()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Index_ , typename Data_ , typename Distance_ , class AnnoyDistance_ , typename AnnoyIndex_  = Index_, typename AnnoyData_  = float, class AnnoyRng_  = Annoy::Kiss64Random, class AnnoyThreadPolicy_  = Annoy::AnnoyIndexSingleThreadedBuildPolicy, class Matrix_  = knncolle::Matrix&lt;Index_, Data_&gt;&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structknncolle__annoy_1_1AnnoyOptions.html">AnnoyOptions</a> &amp; <a class="el" href="classknncolle__annoy_1_1AnnoyBuilder.html">knncolle_annoy::AnnoyBuilder</a>&lt; Index_, Data_, Distance_, AnnoyDistance_, AnnoyIndex_, AnnoyData_, AnnoyRng_, AnnoyThreadPolicy_, Matrix_ &gt;::get_options </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>Options to the Annoy algorithm, to be modified prior to calling <code><a class="el" href="#a60c62ec5f4fdf5252169de7400b97871">build_raw()</a></code> and friends. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/github/workspace/include/knncolle_annoy/<a class="el" href="knncolle__annoy_8hpp_source.html">knncolle_annoy.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
